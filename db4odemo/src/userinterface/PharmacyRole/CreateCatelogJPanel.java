/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package userinterface.PharmacyRole;

import Business.EcoSystem;
import Business.Enterprise.Enterprise;
import Business.Organization.PharmacyOrganization;
import Business.UserAccount.UserAccount;
import MedicineCatelog.Medicine;
import java.awt.CardLayout;
import javax.swing.JOptionPane;
import javax.swing.JPanel;

/**
 *
 * @author stacyhuang
 */
public class CreateCatelogJPanel extends javax.swing.JPanel {

    /**
     * Creates new form CreateCatelogJPanel
     */
    private JPanel jpanel;
    private Enterprise enterprise;
    private PharmacyOrganization organization;
    public CreateCatelogJPanel(JPanel jpanel, PharmacyOrganization organization, Enterprise enterprise) {
        //throw new UnsupportedOperationException("Not supported yet."); //To change body of generated methods, choose Tools | Templates.
        initComponents();
        this.jpanel = jpanel;
        this.organization = organization;
        this.enterprise = enterprise;
    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        createcatelog = new javax.swing.JTextField();
        createbtn = new javax.swing.JButton();
        backbtn2 = new javax.swing.JButton();
        jLabel1 = new javax.swing.JLabel();

        setLayout(new org.netbeans.lib.awtextra.AbsoluteLayout());
        add(createcatelog, new org.netbeans.lib.awtextra.AbsoluteConstraints(70, 102, 267, 32));

        createbtn.setText("create");
        createbtn.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                createbtnActionPerformed(evt);
            }
        });
        add(createbtn, new org.netbeans.lib.awtextra.AbsoluteConstraints(167, 152, -1, -1));

        backbtn2.setBackground(new java.awt.Color(255, 255, 255));
        backbtn2.setText("back");
        backbtn2.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                backbtn2ActionPerformed(evt);
            }
        });
        add(backbtn2, new org.netbeans.lib.awtextra.AbsoluteConstraints(6, 0, -1, -1));

        jLabel1.setText("catelog name:");
        add(jLabel1, new org.netbeans.lib.awtextra.AbsoluteConstraints(70, 80, 111, -1));
    }// </editor-fold>//GEN-END:initComponents

    private void createbtnActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_createbtnActionPerformed
        // TODO add your handling code here:
        String catelog=createcatelog.getText();
        if(catelog.equals("")){
            JOptionPane.showMessageDialog(null, "please enter catelog you want to create");
            return;
        }else{
            for(Medicine m:enterprise.getMedicineDir().getMedicines()){
                if(m.getMedicineCatelog().equalsIgnoreCase(catelog)){
                    JOptionPane.showMessageDialog(null, "this catelog already exist");
                    createcatelog.setText("");
                    return;
                }
            }
            Medicine medicine=enterprise.getMedicineDir().createMedicineCatelog(catelog);
            createcatelog.setText("");
        }
        
    }//GEN-LAST:event_createbtnActionPerformed

    private void backbtn2ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_backbtn2ActionPerformed
        // TODO add your handling code here:
        jpanel.remove(this);
        CardLayout layout = (CardLayout) jpanel.getLayout();
        layout.previous(jpanel);
    }//GEN-LAST:event_backbtn2ActionPerformed


    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JButton backbtn2;
    private javax.swing.JButton createbtn;
    private javax.swing.JTextField createcatelog;
    private javax.swing.JLabel jLabel1;
    // End of variables declaration//GEN-END:variables
}
